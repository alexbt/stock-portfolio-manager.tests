CREATE MEMORY TABLE PUBLIC.HISTORICALPRICE(ID INTEGER NOT NULL,CUSTOMPRICE DECIMAL(38,8) NOT NULL,PRICE DECIMAL(38,8) NOT NULL,YEAR VARBINARY(255) NOT NULL,CONSTRAINT PK_HISTORICALPRICE_ID PRIMARY KEY(ID))
CREATE MEMORY TABLE PUBLIC.LABEL(ID INTEGER NOT NULL,LABEL VARCHAR(255) NOT NULL,CONSTRAINT PK_LABEL_ID PRIMARY KEY(ID),CONSTRAINT UN_LABEL_NAME UNIQUE(LABEL))
CREATE MEMORY TABLE PUBLIC.SYMBOL_PRICES(SYMBOLID INTEGER NOT NULL,PRICEID INTEGER NOT NULL,CONSTRAINT PK_SYMBOLPRICES_IDS PRIMARY KEY(SYMBOLID,PRICEID),CONSTRAINT UN_SYMBOLPRICES_PRICEID UNIQUE(PRICEID),CONSTRAINT FK_SYMBOL_HISTORICALPRICE FOREIGN KEY(PRICEID) REFERENCES PUBLIC.HISTORICALPRICE(ID))
CREATE MEMORY TABLE PUBLIC.SYMBOL(ID INTEGER NOT NULL,ISCUSTOMPRICEFIRST BIT(1) NOT NULL,NAME VARCHAR(255),TICKER VARCHAR(255) NOT NULL,SECTOR VARCHAR(255) DEFAULT 'UNKNOWN' NOT NULL,CURRENCY VARCHAR(255) NOT NULL,CONSTRAINT PK_SYMBOL_ID PRIMARY KEY(ID),CONSTRAINT UN_SYMBOL_TICKER UNIQUE(TICKER))
CREATE MEMORY TABLE PUBLIC.TRANSACTION_LABEL(TRANSACTIONID INTEGER NOT NULL,LABELID INTEGER NOT NULL,CONSTRAINT PK_TRANSACTIONLABEL_IDS PRIMARY KEY(TRANSACTIONID,LABELID),CONSTRAINT FK_TRANSACTION_LABEL FOREIGN KEY(LABELID) REFERENCES PUBLIC.LABEL(ID))
CREATE MEMORY TABLE PUBLIC.TRANSACTION(ID INTEGER NOT NULL,COMMISSION DECIMAL(38,8) NOT NULL,DATE TIMESTAMP NOT NULL,PRICE DECIMAL(38,8) NOT NULL,QUANTITY DECIMAL(38,8) NOT NULL,SYMBOL_ID INTEGER NOT NULL,TYPE VARCHAR(255) NOT NULL,CONSTRAINT PK_TRANSACTION_ID PRIMARY KEY(ID),CONSTRAINT FK_TRANSACTION_SYMBOL FOREIGN KEY(SYMBOL_ID) REFERENCES PUBLIC.SYMBOL(ID))
CREATE MEMORY TABLE PUBLIC.VERSION(ID INTEGER NOT NULL,DATABASEVERSION INTEGER NOT NULL,CONSTRAINT PK_VERSION_ID PRIMARY KEY(ID),CONSTRAINT CK_VERSION_DATABASEVERSION CHECK(PUBLIC.VERSION.DATABASEVERSION>1),CONSTRAINT UN_VERSION_DATABASEVERSION UNIQUE(DATABASEVERSION))